!function(t){var i={};function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,i,e){o.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,i){if(1&i&&(t=o(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)o.d(e,n,function(i){return t[i]}.bind(null,n));return e},o.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(i,"a",i),i},o.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},o.p="/",o(o.s=2)}({2:function(t,i,o){t.exports=o("ybWy")},ybWy:function(t,i,o){"use strict";var e=0;window.getNotificationMsgTime=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h:mma";return moment.utc(t).local().format(i)},window.hideNoNotification=function(){$("#noNewNotification").hide()},window.showNoNotification=function(){$("#noNewNotification").show()},window.setTotalNotificationCount=function(t){$(".totalNotificationCount").text(t).attr("data-total_count",t).show(),t>0?($(".read-all-notification").show(),$(".totalNotificationCount").show(),hideNoNotification()):($(".read-all-notification").hide(),$(".totalNotificationCount").hide(),showNoNotification())},window.getMessageByItsTypeForNotificationList=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return 1===i?'<i class="fa fa-camera mx-0 text-left" aria-hidden="true"></i> Photo':2===i?'<i class="fa fa-file-pdf-o mx-0 text-left" aria-hidden="true"></i> '+o:3===i?'<i class="fa fa-file-word-o mx-0 text-left" aria-hidden="true"></i> '+o:4===i?'<i class="fa fa-file-audio-o mx-0 text-left" aria-hidden="true"></i> '+o:5===i?'<i class="fa fa-file-video-o mx-0 text-left" aria-hidden="true"></i> '+o:7===i?'<i class="fa fa-file-text-o mx-0 text-left" aria-hidden="true"></i> '+o:8===i?'<i class="fa fa-file-excel-o mx-0 text-left" aria-hidden="true"></i> '+o:t},window.renderNotifications=function(){var t=$.templates("#tmplNotification"),i={getNotificationMsgTime:getNotificationMsgTime,getMessageByItsTypeForNotificationList:getMessageByItsTypeForNotificationList},o=t.render(notifications,i);e=notifications.length,setTotalNotificationCount(e),$(".notification__popup").append(o)},renderNotifications(),window.Echo.private("user.".concat(loggedInUserId)).listen("UserEvent",(function(t){if(6!==t.type)return!1;if(-1!=window.location.href.indexOf(conversationsURL)&&getCurrentUserId()===t.owner_id)return!1;hideNoNotification();var i=$(".notification__popup").find("#owner-"+t.owner_id).length,o={getNotificationMsgTime:getNotificationMsgTime,getMessageByItsTypeForNotificationList:getMessageByItsTypeForNotificationList};if(i){var n=$.templates("#tmplOldNotification").render(t,o);$("#owner-"+t.owner_id).html(n)}else{e+=1,setTotalNotificationCount(e);var a=$.templates("#tmplNotification").render(t,o);$(".notification__popup").append(a)}})),$(document).on("click",".notification-item",(function(t){t.preventDefault();var i=$(this).data("notification_id"),o=$(this).attr("id");readNotification(i,"#"+o)})),window.readNotification=function(t,i){$.ajax({type:"get",url:"/notification/"+t+"/read",success:function(t){e-=1,setTotalNotificationCount(e);var o=t.data.owner_id;($(i).remove(),displayToastr("Success","success",t.message),-1!=window.location.href.indexOf(conversationsURL))?$(document).find("#user-"+o).trigger("click"):window.location.replace(conversationsURL+"?conversationId="+o)},error:function(t){displayToastr("Error","error",t.responseJSON.message)}})},window.readNotificationWhenChatWindowOpen=function(t,i){$.ajax({type:"get",url:"/notification/"+t+"/read",success:function(){$(i).remove();var t=$(".notification__popup").find(".notification-item").length;e=t,setTotalNotificationCount(e)},error:function(t){displayToastr("Error","error",t.responseJSON.message)}})},window.getCurrentUserId=function(){return $(".chat__person-box--active").data("id")},window.readNotificationWhenOpenChatWindow=function(t){$("#owner-"+t).remove();var i=$(".notification__popup").find(".notification-item").length;e=i,setTotalNotificationCount(e)},$(document).on("click",".read-all-notification",(function(t){if(t.preventDefault(),!e>0)return!1;readAllNotification()})),window.readAllNotification=function(t,i){$.ajax({type:"get",url:"/notification/read-all",success:function(t){var i=t.data.sender_ids;$.each(i,(function(t,i){$("#user-"+i).find(".chat__person-box-count").text(0).hide()})),e=0,setTotalNotificationCount(e),$(".notification__popup").find(".notification-item").remove(),displayToastr("Success","success",t.message)},error:function(t){displayToastr("Error","error",t.responseJSON.message)}})}}});